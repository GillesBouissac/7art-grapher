<!DOCTYPE html>
<html lang="en">

<head>
    <title>Serverperso - 7th art</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Film search engine">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
        crossorigin="anonymous">

    <style>
        .row-cols-8 > * {
            flex:0 0 auto;
            width:12.5%
        }
        .row-cols-10 > * {
            flex:0 0 auto;
            width:10%
        }
        .shaper-parent {
            contain: layout;
            padding: 0;
        }
        .shaper-controller-portrait {
            display: block;
            padding-bottom: 150%;
        }
        .shaper-slave, .shaper-slave-image, .shaper-slave-overlay {
            position: absolute;
            top: 0;
            bottom: 0;
            right: 0;
            left: 0;
        }
        .shaper-slave-overlay {
            opacity: 0%;
            height: 100%;
        }
        .shaper-slave-overlay:hover {
            opacity: 100%;
        }
        .shaper-slave-image {
            background-size: cover;
            background-position: 50%;
            width: 100%;
            height: 100%;
        }
        /* hide scrollbar but allow scrolling */
        .overflow-scroll-nohandle {
            -ms-overflow-style: none; /* for Internet Explorer, Edge */
            scrollbar-width: none; /* for Firefox */
            overflow-y: scroll; 
        }

        .overflow-scroll-nohandle::-webkit-scrollbar {
            display: none; /* for Chrome, Safari, and Opera */
        }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <script type="module">
        import {localSearch} from './scripts/search.js';
        import {Serie} from './scripts/title.js';
        import * as d3 from "https://cdn.skypack.dev/d3@7";

        const search = localSearch();
        search.start();

    </script>
</head>

<body class="bg-dark text-white">
    <main>
        <div class="container-fluid">
            <div class="d-grid gap-1" style="grid-template-columns: 2fr 10fr;">
                <div></div>
                <div class="row align-items-md-stretch">
                    <header class="pb-3 col-md-6">
                        <a href="./" class="d-flex align-items-end text-decoration-none">
                            <img src="artifacts/logo-blue.svg">
                            <h2 id="page-title" class="px-3">Database search</h2>
                        </a>
                    </header>
                </div>
                <div></div>
            </div>
            <div class="d-grid gap-3" style="grid-template-columns: 2fr 10fr;">
                <div>
                    <div class="row mt-4 border-bottom">
                        <h2>Display ...</h2>
                    </div>
                    <div class="row my-1">
                        <div class="col-md-10">
                            <select id="displayedSerieSelector" class="form-select"></select>
                        </div>
                    </div>
                    <div class="row mt-4 border-bottom">
                        <h2>For films matching ...</h2>
                    </div>
                    <div>
                        <div class="row my-1">
                            <div class="col-md-10">
                                <select id="newFilterTypeSelector" class="form-select"></select>
                            </div>
                        </div>
                        <div class="row my-1 form-floating">
                            <div id="newFilterSearchContainer" class="col-md-10 form-floating dropdown" style="display:none">
                                <input id="newFilterSearchText" type="text" class="form-control dropdown-toggle" data-bs-toggle="dropdown"></input>
                                <ul id="newFilterSearchList" class="dropdown-menu w-100" style="text-overflow:ellipsis"></ul>
                                <label for="newFilterSearch" class="text-dark">Matches</label>
                            </div>
                            <div id="newFilterNumberContainer" class="col-md-10 form-floating" style="display:none">
                                <input id="newFilterNumber" type="number" class="form-control" aria-label="Set the filter value"></input>
                                <label for="newFilterNumber" class="text-dark">Value</label>
                            </div>
                            <div id="newFilterNumberMinContainer" class="col-md-5 form-floating" style="display:none">
                                <input id="newFilterNumberMin" type="number" class="form-control" aria-label="Set the filter minimum value"></input>
                                <label for="newFilterNumberMin" class="text-dark">Minimum</label>
                            </div>
                            <form id="newFilterNumberMaxContainer" class="col-md-5 form-floating" style="display:none">
                                <input id="newFilterNumberMax" type="number" class="form-control" aria-label="Set the filter maximum value"></input>
                                <label for="newFilterNumberMax" class="text-dark">Maximum</label>
                            </form>
                            <div id="newFilterAddContainer" class="col-md-2 my-2" style="display:none">
                                <div class="row">
                                    <button id="newFilterAdd" class="btn btn-primary" type="button">Add</select>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-4 border-bottom"></div>
                        <div id="activeFilterContainer"></div>
                    </div>
                </div>
                <div>
                    <div class="mb-4 mx-auto">
                        <div class="row"></div>
                            <nav class="navbar navbar-expand-lg bg-light" ria-label="Navigation bar">
                                <div class="container-fluid">
                                    <div class="collapse navbar-collapse">
                                        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                                            <li class="nav-item" data-toggle="tooltip" data-placement="top" title="Copy links to clipboard">
                                                <a id="copyLinks" class="nav-link active" href="#">&#x1F4CB;</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </nav>
                        </div>
                        <div class="row overflow-scroll-nohandle" style="max-height: 80vh;">
                            <div id="cardContainer" class="row row-cols-10"></div>
                        </div>
                        <footer class="pt-3 mt-4 text-muted border-top">
                            &copy; Serverperso.com 2022
                        </footer>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <div id="Templates" style="display:none">
        <!--
            Template for active filters in #activeFilterContainer
        -->
        <div class="activeFilterTemplate row my-2 flex-grow-1" style="display:none">
            <div class="d-grid col-md-6 p-1">
                <div class="activeFilterCriterion list-group-item list-group-item-action active">Criterion...</div>
            </div>
            <div class="d-grid col-md-5 p-1">
                <div class="activeFilterValue list-group-item list-group-item-dark text-center">Value...</div>
            </div>
            <div class="d-grid col-md-1 align-self-center">
                <button type="button" class="activeFilterDeleteButton btn-close btn-close-white" aria-label="Close"></button>
            </div>
        </div>
        <!--
            Template for elements in #cardContainer
        -->
        <div class="cardTemplate col py-3">
            <div class="shaper-parent">
                <div class="shaper-controller-portrait alert-dark"></div>
                <img class="cardTemplateImage shaper-slave-image"></img>
                <a href="#" class="cardTemplateUrl shaper-slave-overlay text-dark my-auto px-4" target="_blank">
                    <div class="shaper-slave bg-secondary bg-gradient d-grid">
                        <h4 class="text-truncate cardTemplateTitle">Title</h4>
                        <div class="row mx-auto">
                            <table class="cardTemplateProperties col table-primary"></table>
                        </div>
                    </div>
                </a>
            </div>
            <div class="text-center text-truncate cardTemplateTitle">Title</div>
        </div>
    </div>
</body>
</html>
