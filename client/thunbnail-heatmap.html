<!DOCTYPE html>
<html style="width:100%;height:100%;margin:0;"> 
    <meta charset="utf-8">
    <title>serverperso - heatmap</title>

    <script type="text/javascript" src="https://d3js.org/d3.v7.min.js"></script>
    <script type="text/javascript" src="scripts/util.js"></script>
    <script type="text/javascript" src="scripts/tooltip.js"></script>
    <script type="text/javascript" src="scripts/title.js"></script>
    <script type="text/javascript" src="scripts/graph-heatmap.js"></script>
    <script type="text/javascript" src="scripts/range-selector.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
        crossorigin="anonymous">

    <script type="text/javascript" defer="defer">
        window.onload = function(){
            const url = new URL(window.location.href);
            const title = url.searchParams.get("title");
            const type = url.searchParams.get("type");
            const maxStopsX = url.searchParams.get("maxStopsX");
            const maxStopsY = url.searchParams.get("maxStopsY");
            const titledom = d3.select("#page-title");
            if(title) titledom.text(title);

            const container = d3.select("#graph-goes-here");
            const width = container.node().clientWidth;
            plotHeatmap(type, width, width * 3 / 4, maxStopsX, maxStopsY);
        }
    </script>

    <body class="bg-dark text-white">
        <main>
            <div id="graph-goes-here"></div>
        </main>
    </body>

</html> 
